"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const process = require("process");
const telemetryReporter_1 = require("./telemetryReporter");
// tslint:disable-next-line: only-arrow-functions no-floating-promises
(async function () {
    const args = process.argv.slice(2);
    const options = JSON.parse(args[0]);
    const reporter = await telemetryReporter_1.TelemetryReporter.create(options);
    process.on('message', event => {
        reporter.sendTelemetryEvent(event.eventName, event.attributes);
    });
})();
//# sourceMappingURL=telemetryChildProcess.js.map